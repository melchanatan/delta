import numpy as np
from visual_kinematics.RobotDelta import RobotDelta
from visual_kinematics.Frame import Frame
from visual_kinematics.RobotTrajectory import RobotTrajectory
x,y,z =0,0,-0.4
x_old,y_old,z_old = 0,0,-0.4
# Define Delta robot parameters [r1, r2, l1, l2]
robot = RobotDelta(np.array([0.16, 0.06, 0.30, 0.50]))

# Define trajectory frames
frames = [
    Frame.from_euler_3(np.array([0., 0., 0.]), np.array([[0.0], [0.0], [-0.6]])),
    Frame.from_euler_3(np.array([0., 0., 0.]), np.array([[0.1], [0.0], [-0.5]])),
    Frame.from_euler_3(np.array([0., 0., 0.]), np.array([[0.0], [0.1], [-0.4]])),
]
trajectory = RobotTrajectory(robot, frames)

# Move the robot with a speed of 0.05 meters/second
trajectory.move_with_speed(speed=10, motion="p2p")
# while True:
#     # x = x+0.1
#     y = y+0.1
#     z = z-0.1
#     # Define trajectory frames
#     frames = [
#         Frame.from_euler_3(np.array([0., 0., 0.]), np.array([[x_old], [y_old], [z_old]])),
#         Frame.from_euler_3(np.array([0., 0., 0.]), np.array([[x], [y], [z]])),
#     ]
#     trajectory = RobotTrajectory(robot, frames)

#     # Move the robot with a speed of 0.05 meters/second
#     trajectory.move_with_speed(speed=0.5, motion="p2p")
    
#     x_old,y_old,z_old = x,y,z
    
